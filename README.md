<h2> Задача </h2>

Написать сервис парсинга Яндекс.Еды конфигурируемый из .yaml файла содержащего:

 - минимальный рейтинг ресторанов

 - координаты

 - api endpoint

При невалидном конфигурационном файле сервис должен не запускаться и возвращать текст ошибки.

В сервисе должна быть предусмотрены возможности:

 - изменить минимальный рейтинг на старте приложения в конфигурационном файле с помощью флагов

 - указать с помощью флагов координаты с более высоким приоритетом, чем в конфигурационном файле

Сервис должен по запросу GET /restaurant вернуть все рестораны из БД отсортированные по рейтингу (от большего к меньшему) и соотношению цены с учетом доставки к весу (от меньшего к большему)

Сервис должен по запросу GET /restaurant/:id вернуть цены всех роллов филадельфия с лососем в ресторане из БД

Сервис должен по запросу GET /parse с базовой авторизацией выполнить:

1. многопоточный парсинг всех ресторанов с рейтингом не ниже чем в конфиге
2. сохранить в БД рестораны в меню которых есть ролл Филадельфия с лососем и вернуть код 200

Количество потоков указывается в заголовке или параметре запроса, при значении превышающем максимальное из конфигурационного файла - возвращается ответ с кодом 422

Сервис не должен позволять выполнить несколько парсингов одновременно и возвращать таймаут, если за 30 секунд не получилось снять блокировку парсинга.

Координаты в запросе необязательны, если их нет, то используются координаты указанные в флагах при запуске приложениях.
Парсинг логгируется в stdout с помощью логгера github.com/sirupsen/logrus v1.6.0


<h2> Развертывание </h2>

Запуск миграций:
```
make migrate
```
Генерация proto-файлов:
```
make proto-gen
```
Запуск приложения:
```
make docker-up
```
<h2> Примеры запросов </h2>

* HTTP

```
curl -u alice:alice 'localhost:8080/parse?workers=25&latitude=59.836685&longitude=30.358017'

curl localhost:8080/restaurant/1 | jq

curl localhost:8080/restaurant | jq
```
* gRPC

```
evans proto/restaurant.proto -p 8081


call ParseRestaurants
call GetRestaurant
call GetRestaurants
```

